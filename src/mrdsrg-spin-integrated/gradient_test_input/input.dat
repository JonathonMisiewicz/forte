#! Generated using commit GITCOMMIT

import forte


molecule h4 {
H 0.0 0.0 0.0
H 0.0 0.0 1.0
H 0.0 1.1 0.0
H 0.0 1.1 1.0
}

set {
basis sto-3g
reference rhf
scf_type pk
e_convergence 10
d_convergence 7
# docc [1,0,0,0]
restricted_docc [1,0,0,0,0,0,0,0]
active  [0,0,0,0,0,1,1,0]
   mcscf_type           conv
   mcscf_maxiter        100
   mcscf_diis_start     20
   MCSCF_E_CONVERGENCE  12
   MCSCF_R_CONVERGENCE  10
}


set scf_type direct

set forte {
ref_type  scf
active_space_solver cas
correlation_solver dsrg-mrpt2
# restricted_docc [0,0,0,0]
restricted_docc [1,0,0,0,0,0,0,0]
active  [0,0,0,0,0,1,1,0]
dsrg_s 1.0
   dsrgpt               true
   print_denom2         true
   multiplicity         1
   sigma                0.135495
}



Ecas, ref = energy('casscf', return_wfn=True)


grad = gradient('forte', ref_wfn = ref)

set findif{ 
  points 5
  DISP_SIZE 0.001
}
# grad = gradient('forte', dertype="energy")

